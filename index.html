<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Multi Oyun Saytı</title>
<style>
:root {
  --bg: #f2f2f2;
  --btn-bg: #333;
  --btn-color: #fff;
  --btn-radius: 8px;
}
html, body {
  height: 100%;
  margin: 0;
}
body {
  background: var(--bg);
  font-family: Inter, Arial, sans-serif;
  display: flex;
  align-items: center;
  justify-content: center;
}
#menu {
  width: 320px;
  display: flex;
  flex-direction: column;
  gap: 14px;
  align-items: stretch;
}
button {
  padding: 16px 20px;
  font-size: 18px;
  border: none;
  border-radius: var(--btn-radius);
  background: var(--btn-bg);
  color: var(--btn-color);
  cursor: pointer;
  transition: transform 180ms ease;
}
button:hover {
  transform: scale(1.06);
  background-color: #d32f2f;
}
#settings {
  display:none;
  width:320px;
  margin:0 auto;
  text-align:center;
}
#settings label {
  font-size:18px;
}
#settings input[type="range"] {
  width:100%;
}
#scoreBoard {
  position: fixed;
  top: 10px;
  right: 10px;
  background: #fff;
  padding: 12px;
  border-radius: 6px;
  font-size: 14px;
  display:none;
}
#finalScoreDisplay {
  position: fixed;
  top: 50px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 28px;
  font-weight: bold;
  display:none;
}
</style>
</head>
<body>

<audio id="tickSound" src="https://assets.mixkit.co/sfx/download/mixkit-clock-tick-709.wav"></audio>

<div id="scoreBoard"></div>
<div id="finalScoreDisplay"></div>

<div id="menu">
  <button id="gamesBtn">Oyunlar</button>
  <button id="settingsBtn">Ayarlar</button>
  <button id="creditsBtn">Credits</button>
</div>

<div id="settings">
  <label>Saat səsi:</label>
  <input type="range" id="volumeControl" min="0" max="1" step="0.1">
  <button id="settingsBack">Geri</button>
</div>

<div id="games" style="display:none; width:320px; margin:0 auto; text-align:center;">
  <button id="startGame1">Rəqəmi Düz Tap</button>
</div>

<div id="game1" style="display:none; width:320px; margin:0 auto; text-align:center; font-size:20px;">
  <div id="targetNumber"></div>
  <div id="countdown"></div>
  <div id="liveTimer" style="margin-top:20px; font-size:26px;"></div>
  <button id="stopBtn" style="margin-top:20px; display:none;">Dayandır</button>
  <button id="restartBtn" style="margin-top:10px; display:none;">Yenidən Başla</button>
</div>

<script>
const menu = document.getElementById("menu");
const games = document.getElementById("games");
const settings = document.getElementById("settings");
const game1 = document.getElementById("game1");
const finalScoreDisplay = document.getElementById("finalScoreDisplay");
const scoreBoard = document.getElementById("scoreBoard");
const restartBtn = document.getElementById("restartBtn");
const tickSound = document.getElementById("tickSound");

let difficulty = null;
let intervalId = null;

const savedVolume = localStorage.getItem("volume") || 0.5;
tickSound.volume = savedVolume;
document.getElementById("volumeControl").value = savedVolume;

document.getElementById("volumeControl").oninput = function() {
  tickSound.volume = this.value;
  localStorage.setItem("volume", this.value);
};

document.getElementById("settingsBtn").onclick = () => {
  menu.style.display = "none";
  settings.style.display = "block";
};

document.getElementById("settingsBack").onclick = () => {
  settings.style.display = "none";
  menu.style.display = "flex";
};

document.getElementById("gamesBtn").onclick = () => {
  menu.style.display = "none";
  games.style.display = "flex";
};

document.getElementById("startGame1").onclick = () => {
  games.style.display = "none";
  showDifficultyMenu();
};

function showDifficultyMenu() {
  games.innerHTML = `
    <button id="easyBtn">Asan</button>
    <button id="mediumBtn">Orta</button>
    <button id="hardBtn">Çətin</button>
  `;

  games.style.display = "flex";

  document.getElementById("easyBtn").onclick = () => startGame("easy");
  document.getElementById("mediumBtn").onclick = () => startGame("medium");
  document.getElementById("hardBtn").onclick = () => startGame("hard");
}

function startGame(level) {
  difficulty = level;
  games.style.display = "none";
  game1.style.display = "block";

  finalScoreDisplay.style.display = "none";
  document.getElementById("liveTimer").textContent = "";

  const target = +(Math.random() * 17 + 3).toFixed(1);
  document.getElementById("targetNumber").textContent = "Hədəf " + target;

  let c = 3;
  const countdown = document.getElementById("countdown");
  countdown.textContent = c;

  const cd = setInterval(() => {
    c--;
    countdown.textContent = c > 0 ? c : "";
    if (c <= 0) {
      clearInterval(cd);
      runTimer(target);
    }
  }, 1000);
}

function runTimer(target) {
  const live = document.getElementById("liveTimer");
  live.style.display = "block";

  let t = 0;
  let speed = 100;

  if (difficulty === "medium") speed = 66;
  if (difficulty === "hard") speed = 100;

  intervalId = setInterval(() => {
    t += 0.1;
    live.textContent = t.toFixed(1);

    tickSound.currentTime = 0;
    tickSound.play();

    if (difficulty === "hard" && t >= 3) {
      live.style.display = "none";
    }
  }, speed);

  document.getElementById("stopBtn").style.display = "inline-block";

  document.getElementById("stopBtn").onclick = () => {
    clearInterval(intervalId);

    const diff = Math.abs(target - t);
    let score = Math.max(0, 1000 - diff * 500);
    const final = Math.round(score);

    finalScoreDisplay.style.display = "block";
    finalScoreDisplay.textContent = "Xal " + final;

    document.getElementById("stopBtn").style.display = "none";
    restartBtn.style.display = "inline-block";
  };
}

restartBtn.onclick = () => {
  game1.style.display = "none";
  finalScoreDisplay.style.display = "none";
  showDifficultyMenu();
};
</script>

</body>
</html>
